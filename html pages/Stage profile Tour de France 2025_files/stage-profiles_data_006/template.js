/*
 * smart-designs v2.1
 * 22-8-2024
*/

Premium.template=Premium.template||{},Premium.template.DayThreshForHours=2,Premium.template.SecondsDay=86400,Premium.template.LangMap={days:{fr:"jours",nl:"dagen",de:"tage",es:"dias",sv:"dagar",no:"dager",da:"dage",fi:"päivää",jp:"日"},hours:{fr:"heures",nl:"uren",de:"stunden",es:"horas",sv:"timmar",no:"timer",da:"timer",fi:"tuntia",jp:"時"},minutes:{fr:"minutes",nl:"minuten",de:"minuten",es:"minutos",sv:"minuter",no:"minutter",da:"minutter",fi:"minuutit",jp:"分"},seconds:{fr:"secondes",nl:"seconden",de:"sekunden",es:"segundos",sv:"sekunder",no:"sekunder",da:"sekunder",fi:"sekuntia",jp:"秒"}},Premium.template.convertCountdownTime=function(e){var t,i={wholeWeeks:0},r=e/Premium.template.SecondsDay;r<Premium.template.DayThreshForHours?(i.wholeDays=0,t=24*r):(i.wholeDays=Math.floor(r),t=24*(r-i.wholeDays)),i.wholeHours=Math.floor(t);var m=60*(t-i.wholeHours);return i.wholeMinutes=Math.floor(m),i.wholeSeconds=Math.floor(60*(m-i.wholeMinutes)),i},Premium.template.checkHideCountdownUnits=function(){for(var e,t=document.querySelectorAll(".jpt-countdown .units"),i=0;i<t.length;i++){var r=getComputedStyle(t[i].parentElement);if(t[i].clientWidth>t[i].parentElement.clientWidth+2*parseFloat(r.marginLeft)-1){e=!0;break}}gsap.set(".jpt-countdown .units",{visibility:e?"hidden":"inherit"})},Premium.template.setCountdownLanguage=function(e,t){if("en"!==e)for(var i=(t=t||document.querySelector(".jpt-countdown")).querySelectorAll(".units"),r=0;r<i.length;r++)i[r].textContent=Premium.template.LangMap[i[r].textContent][e]},Premium.template.bgVideoLoop=function(e,t){t=t||3,e.addEventListener("ended",function(){--t>0&&(e.currentTime=0,e.play().catch(function(e){}))})},Premium.template.initCarousel=function(e,t){return Premium.template.fixjpUrls(e),Premium.communicator.api.totalPanels&&(e.showItem(Premium.communicator.sharedObj.carouselFrame,0),e.on("showitem",function(e){Premium.communicator.api.sendMessage({action:"sync-carousel",from:document.body.id,index:e})}),Premium.communicator.api.receiveMessage(function(t){"sync-carousel"===t.action&&t.from!==document.body.id&&t.index!=e._currentIndex?e.showItem(t.index):"sync-carousel-restarttimer"===t.action&&Premium.template.restartTimer&&Premium.template.restartTimer(2)},document.body.id),Premium.communicator.sharedObj.masterCarouselPanel=Premium.communicator.sharedObj.masterCarouselPanel||document.body.id,Premium.template.carouselAutoTimer(e,Premium.communicator.sharedObj.masterCarouselPanel===document.body.id)),t&&t.addEventListener("click",function(e){Premium.communicator.api.sendMessage({action:"sync-carousel-restarttimer"}),Premium.expand.expand("expanded_carousel.html","width:100%;height:100%;")}),e},Premium.template.carouselTime=4,Premium.template.carouselAutoTimer=function(e,t){if(t){var i,r;Premium.template.restartTimer=function(e){Premium.template.carouselTime=void 0===e?Premium.template.carouselTime:e,clearTimeout(i),r=!0,Premium.template.timerTween&&Premium.template.timerTween.kill(),Premium.template.timerTween=gsap.delayedCall(Premium.template.carouselTime,m)};var m=function(){if(r){var t=e._currentIndex+1;Premium.communicator.sharedObj.carouselFrame=t,e.showItem(t),Premium.template.timerTween=gsap.delayedCall(Premium.template.carouselTime,m)}};Premium.communicator.api.receiveMessage(function(e){"restart-timer"===e.action&&Premium.template.restartTimer()},document.body.id),Premium.template.restartTimer(),i=setTimeout(function(){r=!1},Premium.template.CarouselStopTime)}e._targetEl.addEventListener(Premium.jpxApi.isMobile()?"touchstart":"mousedown",function(){Premium.communicator.api.sendMessage({action:"restart-timer"})})},Premium.template.CarouselStopTime=18e4,Premium.template.fixjpUrls=function(e){for(var t=e.getItems(),i=0;i<t.length;i++){var r=t[i].getAttribute("jp-url");r&&!/\S+/.test(r)&&t[i].removeAttribute("jp-url")}},Premium.template.hideScrollBar=function(e){var t=e.offsetWidth-e.clientWidth;e.style.width="calc(100% + "+t+"px)"},Premium.template.getScrolledStateFlexMargin=function(){let e=document.querySelector(".jpt-insert-when-scrolled");return e?`-${e.offsetHeight/window.innerHeight*100}vh`:"0"},Premium.template.initChangingBg=function(e){let t=e.target,i=e.type||"reveal",r=e.direction||"ltr",m=void 0,n=e.angle||0,o=e.speed||2,a=e.ease||"quad.inOut",u=t.children;const l="ltr"===r?`polygon(0% 0%, 0% 0%, ${-n}% 100%, 0% 100%)`:`polygon(100% 0%, 100% 0%, 100% 100%, ${100+n}% 100%)`,s="ltr"===r?`polygon(0% 0%, ${100+n}% 0%, 100% 100%, 0% 100%)`:`polygon(${-n}% 0%, 100% 0%, 100% 100%, 0% 100%)`;let d,c=0,p=-1,h=!0,f=function(){for(var e=0;e<u.length;e++)u[e].style.zIndex=e===c?10:e===p?9:8;h=!1,"reveal"===i?(gsap.set(u[c],{clipPath:l}),gsap.to(u[c],{duration:o,ease:a,clipPath:s,onComplete:function(){h=!0}})):(gsap.set(u[c],{autoAlpha:0}),gsap.to(u[c],{duration:o,autoAlpha:1,onComplete:function(){h=!0}})),p=c,c++,c%=u.length,d&&d.kill(),void 0!==m&&(d=gsap.delayedCall(m,f))};return{showBg:function(e){e+1!==c&&(c=e,f())},autoShowTimer:function(e){m=e,d&&d.kill(),void 0!==m&&(d=gsap.delayedCall(m,f))}}},Premium.template.initIndexScroll=function(e,t){let i=e.incremThreshold||200,r=e.numSteps||4,m=Premium.product.scopeWindow,n=-1,o=-1,a=r*i;m.addEventListener("scroll",function(){let e=0;if(Premium.jpxApi.isMobile()){if(!Premium.product.topBarEl()||!Premium.product.bottomBarEl())return;var u=Premium.product.topBarEl().getBoundingClientRect(),l=Premium.product.bottomBarEl().getBoundingClientRect(),s=1-(u.bottom-u.height)/window.innerHeight,d=1-(l.top-u.height)/window.innerHeight;e=Math.floor(Math.min(Math.max(0,s+d)/2,1)*window.innerHeight)}else e=m.pageYOffset;for(var c=0;c<r;c++)if(c!==n&&e%a>=c*i&&(c===r-1||e%a<(c+1)*i)){n=c;break}o!==n&&t(n),o=n})},Premium.template.SetWidthsBaseWidth=1080,Premium.template.SetWidthsMaxWidthRatio=.5,Premium.template.setImageWidths=function(){let e=document.querySelectorAll("[jpt-set-width]"),t=e.length,i="";const r=e=>{let r=e.target,m=r.getAttribute("jpt-set-width")||Premium.template.SetWidthsBaseWidth,n=r.getAttribute("jpt-set-width-ratio")||Premium.template.SetWidthsMaxWidthRatio,o=Math.round(r.naturalWidth/m*100*10)/10,a=Math.round(o*n*10)/10;if(i+=`#${r.id}{\n\twidth: ${o}%;`,a>0&&(i+=`\n\tmax-width: ${a}vh;`),i+="\n}\n",!--t){let e=document.createElement("STYLE");e.innerHTML=i,e.id="jpt-set-width-css",document.head.insertBefore(e,document.head.querySelector("link"))}};Array.prototype.forEach.call(e,e=>{e.naturalWidth?r({target:e}):e.addEventListener("load",r)})};